<!DOCTYPE html>
<html lang="ja" prefix="og: http://ogp.me/ns#">
	<head>
		<title>MMA Contest 015 参加記録 - InTheDayDream</title> <!-- ページのタイトル書いてね -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=devicewidth, initial-scale=1">
		<base href="../">
		<script> let base = ''; let tmp = [...window.location.href]; let i = 0; let str = 'articles'; for (; ; i++) { let flag = 0; for (let j = 0; str.length > j; j++) { if (str[j] != tmp[i + j]) { flag = 1; break; } } if (flag == 0) { break; } } let roop = tmp.length - i; for (let j = 0; roop > j; j++) { tmp.pop(); } base = tmp.join(''); let a = document.getElementsByTagName("base"); a[0].setAttribute('href', base); </script>
		<link rel="stylesheet" href="default.css">
		<script src="headliner.js"></script>
		<script src="highlight.js"></script>
		<link rel="icon" href="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1673863461/pictures/favicon.png.png">
		<link rel="apple-touch-icon" href="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1673863461/pictures/favicon.png.png">
		<meta name="description" content="MMA Contestオンサイト参加記録です。"> <!-- ページの説明書いてね -->

		<!-- 以下SNSのカード設定 -->
		<meta property="og:url" content="https://inthebloom.github.io/articles/"> <!-- ページのURL書いてね -->
		<meta property="og:title" content="MMA Contest 015 参加記録 - InTheDayDream"> <!-- ページタイトル書いてね -->
		<meta property="og:description" content="MMA Contestオンサイト参加記録です。"> <!-- ページの説明書いてね -->
		<meta property="og:type" content="article"> <!-- コンテンツタイプ(Website or article) -->
		<meta property="og:image" content="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611203/pictures/mmacontest15/ogp_jw9p16.png"> <!-- 表示される画像(絶対パス)書いてね -->
		<!-- Twitter用の設定 -->
		<meta name="twitter:card" content="summary">
		<meta name="twitter:site" content="@UU9782wsEdANDhp">
	</head>

	<body>
		<header>
			<a href="home.html"><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1675069885/pictures/sitelogo_p1inzg.png" class="sitelogo" alt="sitelogo"></a>
		</header>

		<div class="outer">
			<aside>
				<div id="table-of-content">
				</div>
			</aside>
			<div class="main">
				<nav>
					<ol class="crumbs"> <!-- ホームからのパンくずリスト -->
						<li class="crumb"><a href="home.html">Home</a></li>
						<li class="crumb">MMA Contest 015 参加記録</li> <!-- 現在のページタイトル書いてね -->
					</ol>
				</nav>
				<h1>MMA Contest 015 参加記録</h1> <!-- 一番でかい見出し書いてね -->

				<div class="date"> <!-- 記事作成日と更新日書いてね -->
					<p>書いた日: 2023/6/1</p>
					<p>最終更新日: N/A</p>
				</div>
<h2>はじめてのオンサイト、行ってキタ！</h2> <!-- ここから記事本編 -->

<p>電気通信大学にはMMAという<del>格闘技みたいな</del>名前のサークルがあります。
先日2023年5月28日、そのサークルの有志がオンサイトコンテストを開いていたので、(ヒマなので)参加してきました！</p>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">MMA Contest 015というオンサイト競技プログラミングコンテストを開催します！<br>大学HPにもリンクを貼ってもらうことができました🎉<br>教室は200人が余裕で入る教室のB202で実施します。<br>まだまだ参加枠に余裕があるので、参加登録お待ちしております！<a href="https://t.co/Jrqil1Yvpg">https://t.co/Jrqil1Yvpg</a></p>&mdash; 電気通信大学 MMA (@uecmma) <a href="https://twitter.com/uecmma/status/1655468427358920704?ref_src=twsrc%5Etfw">May 8, 2023</a></blockquote>


<p> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">明日，東京都調布市にある電通大でレート不問初中級者向け予選なし誰でも来てくれオンサイトコンテストを開催します！<br>コンテストページはYukicoderを使います．まだ間に合うので明日あいていればお越しください～<a href="https://t.co/0lkHO7Xeb8">https://t.co/0lkHO7Xeb8</a></p>&mdash; Nafmo (@Nafmo2) <a href="https://twitter.com/Nafmo2/status/1662454860455854081?ref_src=twsrc%5Etfw">May 27, 2023</a></blockquote>


<p> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<h2>参加した感想(?)</h2>

<p>コンテストが行われた教室は、電気通信大学の中でもかなり大きい方の教室だったのですが、思っていたよりもたくさん人がいてびっくりしました。
また、僕よりも若い方から社会人の方まで様々な方がいらっしゃったそうです。
すごい非日常感で面白かったです。(小並感)</p>

<p>その日にARCがあるということと、参加者に知り合いが一人もいないという事情から終了後即帰ってしまったので、
他の方がどのような交流をしていたのかよくわかっていませんが、とても楽しそうな雰囲気でした。</p>

<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611202/pictures/mmacontest15/B%E6%A3%9F_khnvsy.jpg" alt="会場の画像" /></p>

<p>↑ココです。</p>

<p>初心者向けコンテストと謳っていたものの、私にとって難しい問題が多く、良い練習になりました。
運が良かったのか、12問中5問正解することができ、全体83位で終わりました。
2時間を超えるコンテストは初めてだったので、結構疲れました。</p>

<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611203/pictures/mmacontest15/result_f17h0q.png" alt="result" /></p>

<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611203/pictures/mmacontest15/ranking_izqrec.png" alt="ranking" /></p>

<h2>解けた問題の概要と解法</h2>

<p>自分が解けた問題をてきとーに振り返ります。</p>

<p><a href="https://yukicoder.me/contests/444">コンテストページ(yukicoder)</a></p>

<h3><a href="https://yukicoder.me/problems/no/2322">A - MMA文字列</a></h3>

<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611202/pictures/mmacontest15/A_mcsavc.png" alt="A問題" /></p>

<p>コンテストが始まった瞬間から会場中「ｶﾀｶﾀ&hellip;」という音が響きだし、結構焦りながら解きました。
シンプルな問題ですが、<code>S[0] == S[1] &amp;&amp; S[1] == S[2]</code>というケースが意外と落とし穴になっています。(1WA)</p>

<p><a href="https://yukicoder.me/submissions/873565">提出</a></p>

<h3><a href="https://yukicoder.me/problems/no/2323">B - Nafmo、A+Bをする</a></h3>

<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611202/pictures/mmacontest15/B_wmxamo.png" alt="B問題" /></p>

<p>繰り上がりをしない2進数の足し算です。
私は配列に値を入れて、XOR演算(片方が1、片方が0のときのみ1)をシミュレートする感じで解きました。
注意点としては、文字列Sをbit列と見立てたとき、<code>S[0]</code>はその見た目に反して<em>最上位bit</em>になります。
AtCoderのコンテストの方でこれに気づかずに一生WAしていたことがあるので、今回はしっかり対応できました。</p>

<p><a href="https://yukicoder.me/submissions/873776">提出</a></p>

<h3><a href="https://yukicoder.me/problems/no/2324">C - Two Countries within UEC</a></h3>

<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611203/pictures/mmacontest15/C_cmn4um.png" alt="C問題" /></p>

<p>作問のsepa_38さん曰く、「皆さんにWAをお配りするために作りました」だそうです。
クソむずかった&hellip;</p>

<p>はじめはC問題ということもあって、ちょっと考えたら解けるだろう！と思って考察していました。</p>

<p>実際、fがxの倍数であるときにはシンプルになります。
この問題を言い換えると、「xが与えられる。法をPとして<code>xy=f</code>であるようなyの個数を求めよ」となるので、
前述のようなケースでは法をPとしてy=f/xであるようなyを求めるだけです。
これは割り算ですぐできます。</p>

<p>しかし、その他のケースについてはどうしても難しいです。
上の条件を更に噛み砕くと、「x、fが与えられる。ある(0を含む)自然数kが存在して、<code>xy=f+kP</code>が成立するようなyを数え上げよ」
という問題になります。
これを変形していって、「<code>y=(f+kP)/x</code>が成立するような(k, y)の組を数え上げよ」とまで持っていきました。</p>

<p>しかし、これは普通にやったらめちゃくちゃ計算量がかかります。
少なくとも私は全探索以外わかりません。</p>

<p>ということで、方針転換。
もしかしたら逆元というものが使えるのではないか？と考え、google先生に聞きました。</p>

<p>結果、xとPが互いに素であるとき、[0, P-1]にただ一つのx<sup>-1</sup>が存在して、Pを法として<code>x*x^(-1)=1</code>である。
という結果を得ました。やった！これならPを法として<code>y=f*x^(-1)</code>(右辺は整数)が成立するようなyを数え上げる問題に帰着できる！
ということで実装します。</p>

<p>とはいっても逆元なんて使ったことなく、
実装方法よく知らなかったので、ネット上に落ちてたc++のコードをD言語で動くように改造して無理やりACしました。
なんかふぇるまーのしょうていり(？)を使っているそうです(バカ)
また、xとPが互いに素でないとき、任意のyに対して友好度が0であることに気をつける必要があります。
<code>modpow</code>関数をバグらせまくってかなりペナを喰らいました。</p>

<p><a href="https://yukicoder.me/submissions/874576">提出</a></p>

<h3><a href="https://yukicoder.me/problems/no/2325">D - Skill Tree</a></h3>

<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611202/pictures/mmacontest15/D_bfvpaw.png" alt="D問題" /></p>

<p>問題文がゴツくて一瞬ビビりましたが、理解してしまえばそこまで複雑なことを聞いていないことがわかります。
ポイントは2つです。</p>

<ul>
<li>ある技を覚えるために、事前に覚えておく必要のある技がある。</li>
<li>ある技を覚えるために、一定のレベルに達している必要がある。</li>
</ul>


<p>これは技を覚える順番に依存関係があるということです。
グラフ表現に落とし込むことで機械的に処理できそうな感じがしますね。</p>

<p>まず、有向グラフを構築します。
技一つ一つを一つのノードと見て、その技を覚えることでアンロックされる技へと有向辺を張ります。</p>

<p>まずは覚えられるかどうかをどう判定するか考えます。
最初に覚えているのは技1のみであるので、ある技が習得可能な必要十分条件は、
技1を含む連結成分にその技が含まれていることです。
これはdfsなどを用いて簡単に判定できます。</p>

<p>また、ある技を覚えるために依存している技はちょうど1つです。
つまり、技の依存関係は一本道になり、分岐しません。
この性質から、技を覚える必要コストも容易に算出できます。</p>

<p><code>(ある技を覚えるために必要なレベル)=max((それが依存している技を覚えるのに必要なレベル), (それ自身を覚えるために必要なレベル))</code></p>

<p>というように、一種の動的計画法のように計算することができます。
これでクエリ2に答える目処が立ちました。</p>

<p>残りはクエリ1です。
まず愚直に考えます。
これを判定するには、技1のノードから順番に技を見ていって、
初めてxを超えるコストを持つノードについたときに今までたどったノードの数を答えることで達成できます。</p>

<p>換言すると、「技を覚えるためのコストを昇順に並べたとき、xは列の何番目に入りますか？」というものです。
よって、配列にコストを全部入れてソート→xの入る位置を2分探索で求めるという操作で答えることができます。</p>

<p>計算量は言及しませんが、これで十分高速に動作し、ACが取れました。
クエリ1の解法が面白かったです。</p>

<p><a href="https://yukicoder.me/submissions/874968">提出</a></p>

<h3><a href="https://yukicoder.me/problems/no/2326">E - Factorial to the Power of Factorial to the&hellip;</a></h3>

<p><img src="https://res.cloudinary.com/dqoqdn2sk/image/upload/v1685611202/pictures/mmacontest15/E_w1ym72.png" alt="E問題" /></p>

<p>見た目がゴツい！
怖すぎる！</p>

<p>さて、まず指数部分がデカすぎてよくわからないので、条件を弱めた問題を考えます。</p>

<p>「N!はPで何回割れますか？」</p>

<p>という問題は典型問題で、<a href="https://manabitimes.jp/math/590">ルシャンドルの定理</a>を用いて解くことができます。
さて、残りの問題を考えましょう。</p>

<p>N!をx乗するとき、明らかにN!の素因数の個数はx倍になります。
(明らかにと言っていますが、私の中ではココが一番の山場かなと思います。)
そこで、答えは上の問題の答えをN!<sup>N!</sup>倍したものになります。
N!:=N*(N-1)*(N-2)*(N-3)*&hellip;2*1であるから、指数部分をほぐすことができて、</p>

<p><code>N!^(N!) = N!^(N*(N-1)*...2*1) = (((..((N!^N)^(N-1))..)^2)^1)</code></p>

<p>となります。(二番目の変形は指数法則を用いています。)
N乗の計算は繰り返し2乗法で高速にできるので、これでN!<sup>N!</sup>をO(NlogN)で求められました。
というわけで適宜余りをとっていけばACになります。
ABCのD問題に出そう！解けてｳﾚｼｲ&hellip;</p>

<p><a href="https://yukicoder.me/submissions/875183">提出</a></p>

<h2>終わりに</h2>

<p>コンテスト面白かったです。また開催してほしい&hellip;</p>

<p>参加記録の更新をずっとサボっててごめんなさい。
更新をサボっている間にメイン言語を切り替えたり、longest streakでトップ1000に入ったり、400ACカウント達成したり、色々ありました。</p>

<p>最近は大半をmarkdownで書いてサボっているので、もっと更新できたらなと思います。</p>

<p>競技プログラミング以外の話題も書きたいとは思っているんですが、なんか面倒くさくてサボってしまいます。助けてくれ。</p>

<p>それでは次のエントリで。</p>
			</div> <!-- ここまでが記事本編 -->
		</div>
			<footer>
				<p class="copyright"><small>&copy; 2023 InTheDayDream</small></p>
			</footer>
	</body>
</html>
